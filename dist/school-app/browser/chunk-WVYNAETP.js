import{a as U}from"./chunk-VGRN2VUC.js";import{a as y}from"./chunk-MITHNXCR.js";import{a as b,d as M,e as x,h as P,i as O,j as S,k as R,l as H,m as z,n as v,o as B,p as J}from"./chunk-Y6YWWD6M.js";import{g as G,i as A}from"./chunk-LHA3554F.js";import"./chunk-HU7WFQWJ.js";import{$a as p,Cb as l,Db as E,Nb as r,Oa as i,Ob as I,Pa as m,Pb as u,_ as C,ab as h,eb as f,pb as c,sc as _,tc as T,vc as j,xb as o,yb as n,zb as s}from"./chunk-TDAYXC56.js";function W(e,a){if(e&1&&(o(0,"tr")(1,"td"),r(2),n(),o(3,"td"),r(4),n()()),e&2){let t=a.$implicit;i(2),I(t.date),i(2),I(t.status)}}function q(e,a){if(e&1&&(o(0,"table")(1,"thead")(2,"tr")(3,"th"),r(4,"Date"),n(),o(5,"th"),r(6,"Status"),n()()(),o(7,"tbody"),f(8,W,5,2,"tr",7),n()()),e&2){let t=E();i(8),c("ngForOf",t.attendanceHistory)}}function K(e,a){e&1&&(o(0,"div")(1,"p"),r(2,"No attendance records found."),n()())}var g=class e{constructor(a){this.router=a}student={};attendanceHistory=[];attendanceMarkedToday=!1;ngOnInit(){this.student=JSON.parse(localStorage.getItem("currentUser")||"{}"),console.log("student data :",this.student),this.attendanceHistory=JSON.parse(localStorage.getItem("attendanceHistory")||"[]"),this.checkAttendanceForToday()}checkAttendanceForToday(){let a=new Date().toLocaleDateString();this.attendanceMarkedToday=this.attendanceHistory.some(t=>t.date===a)}markAttendance(){let a=new Date().toLocaleDateString();if(this.attendanceMarkedToday){alert("Attendance for today has already been marked.");return}let t={date:a,studentName:this.student.name,status:"Present"};this.attendanceHistory.push(t),localStorage.setItem("attendanceHistory",JSON.stringify(this.attendanceHistory)),this.attendanceMarkedToday=!0,alert("Attendance marked successfully!")}updateProfile(){this.router.navigate(["student/profile"])}static \u0275fac=function(t){return new(t||e)(m(G))};static \u0275cmp=p({type:e,selectors:[["app-student-dashboard"]],standalone:!1,decls:25,vars:5,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"profile-summary"],[1,"action-buttons"],[3,"click"],[1,"attendance-history"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,d){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),r(3),n(),o(4,"div",2)(5,"p")(6,"strong"),r(7,"Name:"),n(),r(8),n(),o(9,"p")(10,"strong"),r(11,"Email:"),n(),r(12),n()(),o(13,"div",3)(14,"button",4),l("click",function(){return d.markAttendance()}),r(15,"Mark Attendance"),n(),s(16,"br")(17,"br"),o(18,"button",4),l("click",function(){return d.updateProfile()}),r(19,"Update Profile"),n()()(),o(20,"div",5)(21,"h3"),r(22,"Attendance History"),n(),f(23,q,9,1,"table",6)(24,K,3,0,"div",6),n()()),t&2&&(i(3),u("Welcome, ",d.student.name,""),i(5),u(" ",d.student.name,""),i(4),u(" ",d.student.email,""),i(11),c("ngIf",d.attendanceHistory.length>0),i(),c("ngIf",d.attendanceHistory.length===0))},dependencies:[_,T],styles:[".dashboard-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:2rem;background-color:#f4f7f6;border-radius:8px;box-shadow:0 4px 10px #0000001a}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333}.profile-summary[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem;color:#666}.profile-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.action-buttons[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:space-around}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:focus{outline:none}.attendance-history[_ngcontent-%COMP%]{margin-top:3rem}.attendance-history[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;text-align:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:center;border:1px solid #ddd}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}p[_ngcontent-%COMP%]{font-size:1.1rem;color:#777;text-align:center}"]})};var N=class e{constructor(a,t){this.fb=a;this.studentService=t;this.profileForm=this.fb.group({name:[""],email:[""],contact:[""],password:[""]})}profileForm;student={};ngOnInit(){this.student=JSON.parse(localStorage.getItem("currentUser")||"{}"),console.log(this.student),this.profileForm.patchValue(this.student)}updateProfile(){this.studentService.updateProfile(this.profileForm.value),localStorage.setItem("currentUser",JSON.stringify(this.profileForm.value)),alert("Profile Updated!")}static \u0275fac=function(t){return new(t||e)(m(v),m(y))};static \u0275cmp=p({type:e,selectors:[["app-profile"]],standalone:!1,decls:11,vars:2,consts:[[1,"profile-container"],[1,"form-container"],[3,"ngSubmit","formGroup"],["type","text","placeholder","Name","formControlName","name"],["type","email","placeholder","Email","formControlName","email"],["type","text","placeholder","password","formControlName","password"],["type","text","placeholder","Contact","formControlName","contact"],["type","submit",3,"disabled"]],template:function(t,d){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Profile"),n(),o(4,"form",2),l("ngSubmit",function(){return d.updateProfile()}),s(5,"input",3)(6,"input",4)(7,"input",5)(8,"input",6),o(9,"button",7),r(10,"Update Profile"),n()()()()),t&2&&(i(4),c("formGroup",d.profileForm),i(5),c("disabled",!d.profileForm.valid))},dependencies:[P,b,M,x,O,S],styles:[".profile-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.profile-card[_ngcontent-%COMP%]{width:100%;max-width:600px;background-color:#fff;box-shadow:0 4px 10px #0000001a;padding:20px;border-radius:10px}.profile-info[_ngcontent-%COMP%]{margin-bottom:20px;font-size:18px}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.profile-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin:10px 0;border:1px solid #ccc;border-radius:5px;font-size:16px}.profile-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}@media (max-width: 600px){.registration-container[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%], .attendance-container[_ngcontent-%COMP%]{padding:10px}.form-container[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%], .dashboard-card[_ngcontent-%COMP%], .attendance-card[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:15px}.dashboard-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.attendance-list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%}}"]})};function Y(e,a){if(e&1&&(o(0,"option",7),r(1),n()),e&2){let t=a.$implicit;c("value",t.id),i(),u(" ",t.name," ")}}var D=class e{constructor(a,t){this.fb=a;this.studentService=t;this.attendanceForm=this.fb.group({attendanceDate:[""],selectedStudent:[""]})}attendanceForm;attendanceDate="";students=[];selectedStudent="";attendanceRecord={date:"",studentId:""};ngOnInit(){this.students=JSON.parse(localStorage.getItem("students")||"[]")}markAttendance(){if(this.attendanceForm.valid){let a={date:this.attendanceForm.value.attendanceDate,studentId:this.attendanceForm.value.selectedStudent};this.studentService.markAttendance(this.attendanceRecord),alert("Attendance marked!")}}static \u0275fac=function(t){return new(t||e)(m(v),m(y))};static \u0275cmp=p({type:e,selectors:[["app-attedance"]],standalone:!1,decls:10,vars:3,consts:[[1,"attendance-container"],[1,"form-container"],[3,"ngSubmit","formGroup"],["type","date","formControlName","attendanceDate"],["formControlName","selectedStudent"],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"]],template:function(t,d){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Mark Attendance"),n(),o(4,"form",2),l("ngSubmit",function(){return d.markAttendance()}),s(5,"input",3),o(6,"select",4),f(7,Y,2,2,"option",5),n(),o(8,"button",6),r(9,"Mark Attendance"),n()()()()),t&2&&(i(4),c("formGroup",d.attendanceForm),i(3),c("ngForOf",d.students),i(),c("disabled",!d.attendanceForm.valid))},dependencies:[_,P,H,z,b,R,M,x,O,S],styles:[".attendance-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.attendance-card[_ngcontent-%COMP%]{width:100%;max-width:600px;background-color:#fff;box-shadow:0 4px 10px #0000001a;padding:20px;border-radius:10px}.attendance-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.attendance-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.attendance-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.attendance-list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.attendance-list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin:5px 0;border:1px solid #ccc;border-radius:5px;font-size:16px}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}@media (max-width: 600px){.registration-container[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%], .attendance-container[_ngcontent-%COMP%]{padding:10px}.form-container[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%], .dashboard-card[_ngcontent-%COMP%], .attendance-card[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:15px}.dashboard-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.attendance-list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%}}"]})};var Z=[{path:"",component:g},{path:"dashboard",component:g},{path:"profile",component:N},{path:"attendance",component:D}],w=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e});static \u0275inj=C({imports:[A.forChild(Z),A]})};var L=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e});static \u0275inj=C({imports:[j,U,w,B,J]})};export{L as StudentModule};
